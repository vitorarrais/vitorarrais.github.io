<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Vitor Arrais">
    <meta name="description" content="Vitor&#39;s personal website">
    <meta name="keywords" content="blog,developer,personal,software, engineer">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Music streaming app powered by AI (Part 1)"/>
<meta name="twitter:description" content="In this series I&#39;ll explain how I did an app that streams songs generated by artificial intelligence."/>


    <base href="https://vitorarrais.github.io/posts/music_generated_by_ai_part1/">
    <title>
  Music streaming app powered by AI (Part 1) Â· Vitor Arrais
</title>

    <link rel="canonical" href="https://vitorarrais.github.io/posts/music_generated_by_ai_part1/">

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700|Merriweather:300,700|Source+Code+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" integrity="sha256-oSrCnRYXvHG31SBifqP2PM1uje7SJUyX0nTwO2RJV54=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://vitorarrais.github.io/css/coder.min.ac37073bc2826cd28ef57364a9fe339de7ebcb26dafc22fd832cb35cf5b1d048.css" integrity="sha256-rDcHO8KCbNKO9XNkqf4znefryyba/CL9gyyzXPWx0Eg=" crossorigin="anonymous" media="screen" />
    

    

    

    
      <link rel="stylesheet" href="https://vitorarrais.github.io/css/custom.css">
    

    <link rel="icon" type="image/png" href="https://vitorarrais.github.io/img/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://vitorarrais.github.io/img/favicon-16x16.png" sizes="16x16">

    

    <meta name="generator" content="Hugo 0.53" />
  </head>

  <body class=" ">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://vitorarrais.github.io">
      Vitor Arrais
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://vitorarrais.github.io/posts/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://vitorarrais.github.io/about/">About</a>
          </li>
        
      
      
    </ul>
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Music streaming app powered by AI (Part 1)</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2019-02-04T01:18:55&#43;01:00'>
                February 4, 2019
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              3 minutes read
            </span>
          </div>
          
          
        </div>
      </header>

      <div>
        

<p>In this series I&rsquo;ll go through on how I did an app that streams songs generated by artificial intelligence.</p>

<h2 id="what-will-be-covered">What will be covered ?</h2>

<ul>
<li>Discussion on the system design for this simple application.</li>
<li>Brief discussion on how music is generated by AI</li>
<li>Implementation details with code samples.</li>
</ul>

<h2 id="artificial-intelligence-is-capable-of-composing-compelling-music">Artificial intelligence is capable of composing compelling music ?</h2>

<p>The short answer is: it depends. First of all, music taste is something unique to each person. What sounds good to me maybe does not sound good to you. AI may compose music in many different ways, but here I&rsquo;ll focus in songs entirely composed from scratch by AI. In one way or another, AI music generation is by itself very impressive.</p>

<h2 id="how-ai-creates-music">How AI creates music ?</h2>

<p>We&rsquo;re capable to train Machine Learning models over a dataset of thousands of songs. After trained, this model has learned
how to compose music. In other words, machine learning models are capable of extracting music patterns from bits and reproduce them.</p>

<h2 id="google-magenta">Google Magenta</h2>

<p>Google Magenta is a project from Google Brain that focus in ML models in the music generation field.
There are a bunch of other alternatives out there, as IBM Watson, but Magenta is open source and very promising.</p>

<h2 id="prove-of-concept">Prove of concept</h2>

<p>In order to prove the concept that AI can compose music and that we can apply it in a real world situation, I came with this project idea. The idea is simple: an app powered
with AI that generates songs according to someone&rsquo;s pace. Therefore, IA will track your speed using your mobile phone and will create songs based on that.</p>

<h2 id="the-architecture">The architecture</h2>

<p>What we gonna need:</p>

<ol>
<li>A server hosting the AI model<br /></li>
<li>A client application that plays music (Android app)<br /></li>
<li>A webserver serving as bridge between both (Nodejs)<br /></li>
</ol>

<p>The webserver is optional, the ML host and the webserver can be one. However, I kind like microservices architecture so I decided to keep them separate. I&rsquo;ve chosen Magenta as my intelligent music generator and I wrote a Python server that will transfer generated songs to the webserver via a TCP Socket.
For the client I reused an Android app that I did a couple of years ago. The app was powered with Spotify API but now I&rsquo;m
replacing it with my own AI powered API. You can check the code in my <a href="https://github.com/vitorarrais/spotify-android-sdk">Github Repo</a>.
Finally, for the webserver I wrote it using Nodejs. I always wanted to try it and it was just the right chance to do so :)</p>

<p>So, the entire (yet simple) architecture looks like this</p>

<p><img src="../images/ai-app-design.png" alt="Architecture Design" /></p>

<p>The way all components work together is like the following. The app keep tracking your pace using you mobile&rsquo;s GPS and send updates continuously to the webserver. Then the webserver create a TCP socket with the AI server in order to request for songs and to receive them as .wav files. As soon as the AI server receive requests, it uses a pre-trained ML model to generate a new song and send it back to the webserver that, finally, pipe it back to the client.</p>

<h2 id="conclusion-and-next-steps">Conclusion and Next steps</h2>

<p>Summing up, until now we know that Magenta generate songs as .wav files and transfer them to the client using TCP Sockets.
In the next article I will go deeper on how Magenta do its magic and how I adapted it to the needs of my application.</p>

<p>If you have any thoughts do not hesitate to contact me via email or twitter.</p>

      </div>

      <footer>
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "yourdiscussshortname" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    
    
    
    
  </section>
</footer>

    </main>

    

  </body>

</html>
